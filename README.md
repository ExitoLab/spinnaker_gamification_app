# Spinnaker Gamification App

The following technologies will be used 

1. Django rest framework 
2. Golang 
3. React Js 
4. CI/ CD (Spinnaker, Jenkins, Github Actions)


The various features of the application:

1. Integrate www.linkedin.com api 
2. Integrate https://github.com api 
3. If user supplies linkedin and github information. it will be displayed on the website and if nothing is supplied it will display basic information from github and a link to the registration page for user to register and add data to their contribution profile. 
4. A cron job (Golang) will run periodically and get information from github and insert into database. This will be a microservice  
5. The cron job will be able to trigger from the admin UI. Supply date and it will get information from linkedln

Views:
1. Home Page - ![Here is a really bad sketch](https://s.armory.io/Jru6DRrA) The idea for this page is to provide a few generalized project stats, and two period-configurable "leaderboards" that show the top (20?) contributors in the period (week/month/year). One list should show all contributors, and the other should filter out "Community Contributors" (all contributors minus those from Netflix, Google, and maybe Armory?) Below these lists, we hope to also add areas to browse recent human (non-bot) Pull Requests and Issues, with links to the relevant GitHub pages and to contributor profiles internally.
1. Contribution Profile Page - Each GitHub username with project contributions in the Spinnaker organization should be associated with a profile page, perhaps generated by an array. Profile pages display links to contributions by that user and contribution stats - number of PRs/issues/comments, length of time since becoming a contributor, role in the Spinnaker project (can be none or from [list here](https://github.com/spinnaker/governance/blob/master/governance.md#roles)), list of CDF projects contributed to, and more (?). For users with a "claimed" account, this page will also optionally display user-entered strings (Full name, about me, Spinnaker Slack handle, links to Spinnaker content) as well as LinkedIn account link, job title and company name data from LinkedIn, Medium account link, YouTube account link. 
1. Contributor Profile Claim & Edit Page
1. Admin Page or View

Features to test:
- Count individual user's PRs - https://developer.github.com/v3/pulls/#list-pull-requests
- Count individual user's Issues - https://developer.github.com/v3/issues/#list-repository-issues
- Count individual user's Issue & PR Comments - https://developer.github.com/v3/issues/comments/#list-issue-comments
- Check role in the Spinnaker projects - scrape membership file at https://github.com/spinnaker/governance/blob/master/membership.yml

Additional APIs that might be helpful:
- Get total number of commits in a repository authored by an individual contributor - https://developer.github.com/v3/repos/statistics/#get-all-contributor-commit-activity
- List contributors to a specified repo in order of number of contributions (detail for top 500 results) - https://developer.github.com/v3/repos/#list-repository-contributors
- Check if a user is a repo collaborator - https://developer.github.com/v3/repos/collaborators/#check-if-a-user-is-a-repository-collaborator

Features with no found API match:
- List of CDF projects contributed to. Some detail here: https://stackoverflow.com/questions/20714593/github-api-repositories-contributed-to
- Length of time since becoming a contributor. This is being monitored in some way here - https://spinnaker.devstats.cd.foundation/d/52/new-contributors-table?orgId=1 so we should dissect how they are doing this using [GHArchive](https://www.gharchive.org/)

Question:
1. What exact information of users should be displayed on the home page
1. We will need a wireframe of the homepage.. Just an idea, we can come up with the rest of the information.
1. Are we paying attention to the GitHub API limitations listed here https://github.com/cncf/devstats/blob/master/ARCHITECTURE.md#github-archives ?


Next Steps:
1. Create a sketch of the views to use as a basline for wireframing
1. Find a designer to help with better wireframes
1. Gather API specs for all the data we want to display

